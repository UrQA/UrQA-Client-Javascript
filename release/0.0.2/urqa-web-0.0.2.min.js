(function(k,a){"object"===typeof exports?module.exports=a():"function"===typeof define&&define.amd?define(a):k.printStackTrace=a()})(this,function(){function k(a){a=a||{guess:!0};var c=a.e||null;a=!!a.guess;var b=new k.implementation,c=b.run(c);return a?b.guessAnonymousFunctions(c):c}k.implementation=function(){};k.implementation.prototype={run:function(a,c){a=a||this.createException();c=c||this.mode(a);return"other"===c?this.other(arguments.callee):this[c](a)},createException:function(){try{this.undef()}catch(a){return a}},
mode:function(a){return a.arguments&&a.stack?"chrome":a.stack&&a.sourceURL?"safari":a.stack&&a.number?"ie":a.stack&&a.fileName?"firefox":a.message&&a["opera#sourceloc"]?!a.stacktrace||-1<a.message.indexOf("\n")&&a.message.split("\n").length>a.stacktrace.split("\n").length?"opera9":"opera10a":a.message&&a.stack&&a.stacktrace?0>a.stacktrace.indexOf("called from line")?"opera10b":"opera11":a.stack&&!a.fileName?"chrome":"other"},instrumentFunction:function(a,c,b){a=a||window;var d=a[c];a[c]=function(){b.call(this,
k().slice(4));return a[c]._instrumented.apply(this,arguments)};a[c]._instrumented=d},deinstrumentFunction:function(a,c){a[c].constructor===Function&&(a[c]._instrumented&&a[c]._instrumented.constructor===Function)&&(a[c]=a[c]._instrumented)},chrome:function(a){return(a.stack+"\n").replace(/^[\s\S]+?\s+at\s+/," at ").replace(/^\s+(at eval )?at\s+/gm,"").replace(/^([^\(]+?)([\n$])/gm,"{anonymous}() ($1)$2").replace(/^Object.<anonymous>\s*\(([^\)]+)\)/gm,"{anonymous}() ($1)").replace(/^(.+) \((.+)\)$/gm,
"$1@$2").split("\n").slice(0,-1)},safari:function(a){return a.stack.replace(/\[native code\]\n/m,"").replace(/^(?=\w+Error\:).*$\n/m,"").replace(/^@/gm,"{anonymous}()@").split("\n")},ie:function(a){return a.stack.replace(/^\s*at\s+(.*)$/gm,"$1").replace(/^Anonymous function\s+/gm,"{anonymous}() ").replace(/^(.+)\s+\((.+)\)$/gm,"$1@$2").split("\n").slice(1)},firefox:function(a){return a.stack.replace(/(?:\n@:0)?\s+$/m,"").replace(/^(?:\((\S*)\))?@/gm,"{anonymous}($1)@").split("\n")},opera11:function(a){var c=
/^.*line (\d+), column (\d+)(?: in (.+))? in (\S+):$/;a=a.stacktrace.split("\n");for(var b=[],d=0,h=a.length;d<h;d+=2){var f=c.exec(a[d]);if(f){var g=f[4]+":"+f[1]+":"+f[2],f=f[3]||"global code",f=f.replace(/<anonymous function: (\S+)>/,"$1").replace(/<anonymous function>/,"{anonymous}");b.push(f+"@"+g+" -- "+a[d+1].replace(/^\s+/,""))}}return b},opera10b:function(a){var c=/^(.*)@(.+):(\d+)$/;a=a.stacktrace.split("\n");for(var b=[],d=0,h=a.length;d<h;d++){var f=c.exec(a[d]);f&&b.push((f[1]?f[1]+"()":
"global code")+"@"+f[2]+":"+f[3])}return b},opera10a:function(a){var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;a=a.stacktrace.split("\n");for(var b=[],d=0,h=a.length;d<h;d+=2){var f=c.exec(a[d]);f&&b.push((f[3]||"{anonymous}")+"()@"+f[2]+":"+f[1]+" -- "+a[d+1].replace(/^\s+/,""))}return b},opera9:function(a){var c=/Line (\d+).*script (?:in )?(\S+)/i;a=a.message.split("\n");for(var b=[],d=2,h=a.length;d<h;d+=2){var f=c.exec(a[d]);f&&b.push("{anonymous}()@"+f[2]+":"+f[1]+" -- "+
a[d+1].replace(/^\s+/,""))}return b},other:function(a){for(var c=/function(?:\s+([\w$]+))?\s*\(/,b=[],d,h,f=Array.prototype.slice;a&&10>b.length;){d=c.test(a.toString())?RegExp.$1||"{anonymous}":"{anonymous}";try{h=f.call(a.arguments||[])}catch(g){h=["Cannot access arguments: "+g]}b[b.length]=d+"("+this.stringifyArguments(h)+")";try{a=a.caller}catch(l){b[b.length]="Cannot access caller: "+l;break}}return b},stringifyArguments:function(a){for(var c=[],b=Array.prototype.slice,d=0;d<a.length;++d){var h=
a[d];void 0===h?c[d]="undefined":null===h?c[d]="null":h.constructor&&(c[d]=h.constructor===Array?3>h.length?"["+this.stringifyArguments(h)+"]":"["+this.stringifyArguments(b.call(h,0,1))+"..."+this.stringifyArguments(b.call(h,-1))+"]":h.constructor===Object?"#object":h.constructor===Function?"#function":h.constructor===String?'"'+h+'"':h.constructor===Number?h:"?")}return c.join(",")},sourceCache:{},ajax:function(a){var c=this.createXMLHTTPObject();if(c)try{return c.open("GET",a,!1),c.send(null),c.responseText}catch(b){}return""},
createXMLHTTPObject:function(){for(var a,c=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],b=0;b<c.length;b++)try{return a=c[b](),this.createXMLHTTPObject=c[b],a}catch(d){}},isSameDomain:function(a){return"undefined"!==typeof location&&-1!==a.indexOf(location.hostname)},getSource:function(a){a in this.sourceCache||(this.sourceCache[a]=this.ajax(a).split("\n"));
return this.sourceCache[a]},guessAnonymousFunctions:function(a){for(var c=0;c<a.length;++c){var b=/^(.*?)(?::(\d+))(?::(\d+))?(?: -- .+)?$/,d=a[c],h=/\{anonymous\}\(.*\)@(.*)/.exec(d);if(h){var f=b.exec(h[1]);f&&(b=f[1],h=f[2],f=f[3]||0,b&&(this.isSameDomain(b)&&h)&&(b=this.guessAnonymousFunction(b,h,f),a[c]=d.replace("{anonymous}",b)))}}return a},guessAnonymousFunction:function(a,c,b){var d;try{d=this.findFunctionName(this.getSource(a),c)}catch(h){d="getSource failed with url: "+a+", exception: "+
h.toString()}return d},findFunctionName:function(a,c){for(var b=/function\s+([^(]*?)\s*\(([^)]*)\)/,d=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/,h=/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/,f="",g,l=Math.min(c,20),k,e=0;e<l;++e)if(g=a[c-e-1],k=g.indexOf("//"),0<=k&&(g=g.substr(0,k)),g)if(f=g+f,(g=d.exec(f))&&g[1]||(g=b.exec(f))&&g[1]||(g=h.exec(f))&&g[1])return g[1];return"(?)"}};return k});
var getBrowser=function(){function k(b){function d(a){return(a=b.match(a))&&1<a.length&&a[1]||""}var c=d(/(ipod|iphone|ipad)/i).toLowerCase(),f=!/like android/i.test(b)&&/android/i.test(b),g=d(/version\/(\d+(\.\d+)?)/i),l=/tablet/i.test(b),k=!l&&/[^-]mobi/i.test(b),e;/opera|opr/i.test(b)?e={name:"Opera",opera:a,version:g||d(/(?:opera|opr)[\s\/](\d+(\.\d+)?)/i)}:/windows phone/i.test(b)?e={name:"Windows Phone",windowsphone:a,msie:a,version:d(/iemobile\/(\d+(\.\d+)?)/i)}:/msie|trident/i.test(b)?e={name:"Internet Explorer",
msie:a,version:d(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/chrome|crios|crmo/i.test(b)?e={name:"Chrome",chrome:a,version:d(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:c?(e={name:"iphone"==c?"iPhone":"ipad"==c?"iPad":"iPod"},g&&(e.version=g)):/sailfish/i.test(b)?e={name:"Sailfish",sailfish:a,version:d(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(b)?e={name:"SeaMonkey",seamonkey:a,version:d(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel/i.test(b)?(e={name:"Firefox",firefox:a,version:d(/(?:firefox|iceweasel)[ \/](\d+(\.\d+)?)/i)},
/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(b)&&(e.firefoxos=a)):/silk/i.test(b)?e={name:"Amazon Silk",silk:a,version:d(/silk\/(\d+(\.\d+)?)/i)}:f?e={name:"Android",version:g}:/phantom/i.test(b)?e={name:"PhantomJS",phantom:a,version:d(/phantomjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(b)||/rim\stablet/i.test(b)?e={name:"BlackBerry",blackberry:a,version:g||d(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:/(web|hpw)os/i.test(b)?(e={name:"WebOS",webos:a,version:g||d(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},
/touchpad\//i.test(b)&&(e.touchpad=a)):e=/bada/i.test(b)?{name:"Bada",bada:a,version:d(/dolfin\/(\d+(\.\d+)?)/i)}:/tizen/i.test(b)?{name:"Tizen",tizen:a,version:d(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/safari/i.test(b)?{name:"Safari",safari:a,version:g}:{};/(apple)?webkit/i.test(b)?(e.name=e.name||"Webkit",e.webkit=a,!e.version&&g&&(e.version=g)):!e.opera&&/gecko\//i.test(b)&&(e.name=e.name||"Gecko",e.gecko=a,e.version=e.version||d(/gecko\/(\d+(\.\d+)?)/i));f||e.silk?e.android=a:c&&(e[c]=a,
e.ios=a);g="";c?(g=d(/os (\d+([_\s]\d+)*) like mac os x/i),g=g.replace(/[_\s]/g,".")):f?g=d(/android[ \/-](\d+(\.\d+)*)/i):e.windowsphone?g=d(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):e.webos?g=d(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):e.blackberry?g=d(/rim\stablet\sos\s(\d+(\.\d+)*)/i):e.bada?g=d(/bada\/(\d+(\.\d+)*)/i):e.tizen&&(g=d(/tizen[\/\s](\d+(\.\d+)*)/i));g&&(e.osversion=g);g=g.split(".")[0];if(l||"ipad"==c||f&&(3==g||4==g&&!k)||e.silk)e.tablet=a;else if(k||"iphone"==c||"ipod"==c||f||e.blackberry||
e.webos||e.bada)e.mobile=a;e.msie&&10<=e.version||e.chrome&&20<=e.version||e.firefox&&20<=e.version||e.safari&&6<=e.version||e.opera&&10<=e.version||e.ios&&e.osversion&&6<=e.osversion.split(".")[0]?e.a=a:e.msie&&10>e.version||e.chrome&&20>e.version||e.firefox&&20>e.version||e.safari&&6>e.version||e.opera&&10>e.version||e.ios&&e.osversion&&6>e.osversion.split(".")[0]?e.c=a:e.x=a;return e}var a=!0,c=k("undefined"!==typeof navigator?navigator.userAgent:"");c._detect=k;return c},dateFormat=function(){var k=
/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,c=/[^-+\dA-Z]/g,b=function(a,b){a=String(a);for(b=b||2;a.length<b;)a="0"+a;return a};return function(d,h,f){var g=dateFormat;1!=arguments.length||("[object String]"!=Object.prototype.toString.call(d)||/\d/.test(d))||(h=d,d=void 0);d=d?new Date(d):new Date;if(isNaN(d))throw SyntaxError("invalid date");
h=String(g.masks[h]||h||g.masks["default"]);"UTC:"==h.slice(0,4)&&(h=h.slice(4),f=!0);var l=f?"getUTC":"get",n=d[l+"Date"](),e=d[l+"Day"](),q=d[l+"Month"](),u=d[l+"FullYear"](),p=d[l+"Hours"](),s=d[l+"Minutes"](),t=d[l+"Seconds"](),l=d[l+"Milliseconds"](),r=f?0:d.getTimezoneOffset(),m={d:n,dd:b(n),ddd:g.i18n.dayNames[e],dddd:g.i18n.dayNames[e+7],m:q+1,mm:b(q+1),mmm:g.i18n.monthNames[q],mmmm:g.i18n.monthNames[q+12],yy:String(u).slice(2),yyyy:u,h:p%12||12,hh:b(p%12||12),H:p,HH:b(p),M:s,MM:b(s),s:t,
ss:b(t),l:b(l,3),L:b(99<l?Math.round(l/10):l),t:12>p?"a":"p",tt:12>p?"am":"pm",T:12>p?"A":"P",TT:12>p?"AM":"PM",Z:f?"UTC":(String(d).match(a)||[""]).pop().replace(c,""),o:(0<r?"-":"+")+b(100*Math.floor(Math.abs(r)/60)+Math.abs(r)%60,4),S:["th","st","nd","rd"][3<n%10?0:(10!=n%100-n%10)*n%10]};return h.replace(k,function(a){return a in m?m[a]:a.slice(1,a.length-1)})}}();
dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:"Sun Mon Tue Wed Thu Fri Sat Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),monthNames:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec January February March April May June July August September October November December".split(" ")};
Date.prototype.format=function(k,a){return dateFormat(this,k,a)};
var urqa=function(){function k(a){a=a||{};a.rank=a.rank||2;a.tag=a.tag||"";a.logs=b?b.getLogs():[];return a}function a(a){var b=a.join("\n\t");try{var c="",g;for(g in a){var l=a[g].split("@");l[0]=l[0].replace("()","");c=c+"\tat "+l[0]+"("+l[1]+")\n"}return c}catch(k){}return b}var c=null,b=null;return{Init:function(a){c.Init(a);a.console_debug_enable&&b.enable(!0)},setEnvObj:function(a){c=a},setConsoleLogObj:function(a){b=a},send_e:function(d,b){if(null==c)alert("Environment object is null");else{b=
k(b);var f=printStackTrace({e:d}),f=a(f);return c.send_e(f,b)}},send_l:function(b,h){if(null==c)alert("Environment object is null");else{h=k(h);var f=printStackTrace({e:Error()}),f=a(f);return c.send_l(b,f,h)}}}}();
(function(){function k(a,b){b.log=a.log;b.warn=a.warn;b.error=a.error;b.info=a.info}var a=!1,c={},b=[],d={log:function(){},warn:function(){},error:function(){},info:function(){}},h=function(a,d){var c=Array.prototype.slice.call(d),h=(new Date).format("yyyy-mm-dd HH:MM:ss"),c=c.join(", ").replace(/[\r|\n]/g," ");100<c.length&&(c=c.substring(0,100));b.push(h+"\t"+a+"\t"+c);5<b.length&&b.splice(0,b.length-5)};c.log=function(){h("log",arguments);Function.prototype.apply.call(d.log,console,arguments)};
c.warn=function(){h("warn",arguments);Function.prototype.apply.call(d.warn,console,arguments)};c.error=function(){h("error",arguments);Function.prototype.apply.call(d.error,console,arguments)};c.info=function(){h("info",arguments);Function.prototype.apply.call(d.info,console,arguments)};c.getLogs=function(){return b};c.enable=function(b){console.loglog=console.log;!b&&a?console?k(d,console):window.console&&k(d,window.console):console?(k(console,d),k(c,console)):window.console?(k(window.console,d),
k(c,window.console)):(console=c,window.console=c);a=b};urqa.setConsoleLogObj(c)})();
var urqa_web=function(){var k="",a="",c=null,b=null,d="en",h="US",f=function(a,b){null==c?alert("Not Support Direct Connect.\nPlease use a wrapping server."):$.ajax({url:c+"?callback=?",data:{uri:a,data:b},dataType:"jsonp",jsonp:"callback",success:function(b){null!=b&&"http://ur-qa.com/urqa/client/connect"==a&&jQuery.parseJSON(b)}})};return{Init:function(g){k=g.api_key;a=g.app_version;c=g.wrap_url;b=getBrowser();d=navigator.userLanguage?navigator.userLanguage:navigator.language?navigator.language:
"en-US";5<d.length&&(h=d.substring(3));var f=window.onerror;window.onerror=function(a,b,d,c,g){urqa.send_e(g,{errname:"Global Exception"});try{if(void 0!=f&&null==f)return f(a,b,d,c,errobj)}catch(h){}return!1}},send_e:function(c,l){var n=c.replace(/\n/g,"\\n").replace(/\t/g,"\\t"),e=l.errname,q=l.rank,u=l.tag,p=l.logs,e=e||n,q=q||2,u=u||"",s,t;try{var r=window,m=document,v=m.documentElement,w=m.getElementsByTagName("body")[0],x=r.innerHeight||v.clientHeight||w.clientHeight;s=r.innerWidth||v.clientWidth||
w.clientWidth;t=x}catch(y){t=s=0}m=new Date;r=m.format("yyyy-mm-dd HH:MM:ss");m=new Date(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate(),m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds());n='{"exception": { "sdkversion": "0.95", "locale": "'+d+'", "tag": "'+u+'", "rank": '+q+', "callstack": "'+n+'", "apikey": "'+k+'", "datetime": "'+r+'", "device": "'+b.name+" "+b.version+'", "country": "'+h+'", "errorname": "'+e+'", "errorclassname": "'+e+'", "linenum": 0, "appversion": "'+
a+'",  "osversion": "'+b.version+'", "gpson": 0, "wifion": 1, "mobileon": 0, "scrwidth": '+s+', "scrheight": '+t+', "batterylevel": 50, "availsdcard": 0, "rooted": 0, "appmemtotal": 0, "appmemfree": 0, "appmemmax": 0, "kernelversion": "'+b.version+'", "xdpi": '+s+', "ydpi": '+t+', "scrorientation": 0, "sysmemlow": 0, "lastactivity": "it.is.browser", "eventpaths": [] },"console_log" : { "data" : "'+p.join("\\n").replace(/[\t]/g,"\\t").replace(/['"]/g,"")+'" }, "instance": { "id": '+m.getTime()+' },"version": "0.95" }';
f("http://ur-qa.com/urqa/client/send/exception",n)},send_l:function(a,b){}}};urqa.setEnvObj(urqa_web());
